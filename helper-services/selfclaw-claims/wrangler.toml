name = "selfclaw-claim-server"
main = "src/worker.ts"
compatibility_date = "2023-08-14"

compatibility_flags = [ "nodejs_compat" ] # for node:async_hooks

workers_dev = true
preview_urls = true

[observability.logs]
enabled = true

[[d1_databases]]
binding = "DB" # i.e. available in your Worker on env.DB
database_name = "selfclaw-db"
database_id = "b3056b85-1806-47cf-9142-b355792492cb"

[[routes]]
pattern = "selfclaw-claim.conquest.game"
zone_name = "conquest.game"
custom_domain = true

# Token Distribution Configuration
# Note: PRIVATE_KEY should be set as a secret using:
#   wrangler secret put PRIVATE_KEY
#
# [vars]
# TOKEN_ADDRESS = ""                 # ERC20 token contract address
# TOKEN_AMOUNT = "1000000000000000000"  # Amount in wei (1 token with 18 decimals)
# RPC_URL = "https://forno.celo.org"    # Celo mainnet RPC
# CHAIN_ID = "42220"                    # Celo mainnet chain ID
# TIMESTAMP_TOLERANCE_MS = "5000"       # Optional: signature timestamp tolerance
# SELFCLAW_API_URL = "https://selfclaw.ai"  # Optional: SelfClaw API URL

[vars]
TOKEN_AMOUNT="40000000000000000000"
RPC_URL="https://forno.celo.org"
CHAIN_ID="42220"
NATIVE_TOKEN_AMOUNT="5000000000000000000"
TOKEN_ADDRESS="0x324ee6b63aa524207eb00dc1baebdc2ec77bd3f0"
TOKEN_DISTRIBUTOR_ADDRESS="0x51507c1b704dee93160a01dc56e666b7cb5a8076"
