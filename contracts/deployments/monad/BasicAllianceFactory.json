{
  "address": "0x2cd976982cd64c55a04b22242efbc105df5c146e",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "contract AllianceRegistry",
          "name": "allianceRegistry",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "initialAdmin",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "initialBaseURI",
          "type": "string"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "newAdmin",
          "type": "address"
        }
      ],
      "name": "AdminSet",
      "type": "event"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "addr",
              "type": "address"
            },
            {
              "internalType": "uint32",
              "name": "nonce",
              "type": "uint32"
            },
            {
              "internalType": "bytes",
              "name": "signature",
              "type": "bytes"
            }
          ],
          "internalType": "struct AllianceRegistry.PlayerSubmission[]",
          "name": "playerSubmissions",
          "type": "tuple[]"
        }
      ],
      "name": "addMembers",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "admin",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "baseURI",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "player",
          "type": "address"
        },
        {
          "internalType": "uint32",
          "name": "nonce",
          "type": "uint32"
        },
        {
          "internalType": "bytes",
          "name": "signature",
          "type": "bytes"
        },
        {
          "internalType": "uint32",
          "name": "inviteNonce",
          "type": "uint32"
        },
        {
          "internalType": "bytes",
          "name": "inviteSignature",
          "type": "bytes"
        }
      ],
      "name": "claimInvite",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "frontendURI",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "salt",
          "type": "bytes32"
        }
      ],
      "name": "getAddress",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "contract BasicAlliance",
          "name": "factory",
          "type": "address"
        }
      ],
      "name": "initInstance",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "initialAdmin",
          "type": "address"
        },
        {
          "components": [
            {
              "internalType": "address",
              "name": "addr",
              "type": "address"
            },
            {
              "internalType": "uint32",
              "name": "nonce",
              "type": "uint32"
            },
            {
              "internalType": "bytes",
              "name": "signature",
              "type": "bytes"
            }
          ],
          "internalType": "struct AllianceRegistry.PlayerSubmission[]",
          "name": "playerSubmissions",
          "type": "tuple[]"
        },
        {
          "internalType": "bytes32",
          "name": "salt",
          "type": "bytes32"
        }
      ],
      "name": "instantiate",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "memberNonces",
      "outputs": [
        {
          "internalType": "uint32",
          "name": "",
          "type": "uint32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "player",
          "type": "address"
        }
      ],
      "name": "removeMember",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newAdmin",
          "type": "address"
        }
      ],
      "name": "setAdmin",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newAdmin",
          "type": "address"
        },
        {
          "components": [
            {
              "internalType": "address",
              "name": "addr",
              "type": "address"
            },
            {
              "internalType": "uint32",
              "name": "nonce",
              "type": "uint32"
            },
            {
              "internalType": "bytes",
              "name": "signature",
              "type": "bytes"
            }
          ],
          "internalType": "struct AllianceRegistry.PlayerSubmission[]",
          "name": "playerSubmissions",
          "type": "tuple[]"
        }
      ],
      "name": "setAdminAndAddMembers",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "newBaseURI",
          "type": "string"
        }
      ],
      "name": "setBaseURI",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "contractName": "BasicAlliance",
  "sourceName": "src/alliances/BasicAlliance.sol",
  "bytecode": "0x60a06040523480156200001157600080fd5b5060405162002bbb38038062002bbb8339810160408190526200003491620001c6565b6001600160a01b03838116608052600080546001600160a01b03191691841691821790556040519081527f8fe72c3e0020beb3234e76ae6676fa576fbfcae600af1c4fea44784cf0db329c9060200160405180910390a16000815111620000d25760405162461bcd60e51b815260206004820152600e60248201526d4e454544535f424153455f55524960901b604482015260640160405180910390fd5b8051620000e7906001906020840190620000f1565b505050506200030d565b828054620000ff90620002d0565b90600052602060002090601f0160209004810192826200012357600085556200016e565b82601f106200013e57805160ff19168380011785556200016e565b828001600101855582156200016e579182015b828111156200016e57825182559160200191906001019062000151565b506200017c92915062000180565b5090565b5b808211156200017c576000815560010162000181565b6001600160a01b0381168114620001ad57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b600080600060608486031215620001dc57600080fd5b8351620001e98162000197565b80935050602080850151620001fe8162000197565b60408601519093506001600160401b03808211156200021c57600080fd5b818701915087601f8301126200023157600080fd5b815181811115620002465762000246620001b0565b604051601f8201601f19908116603f01168101908382118183101715620002715762000271620001b0565b816040528281528a868487010111156200028a57600080fd5b600093505b82841015620002ae57848401860151818501870152928501926200028f565b82841115620002c05760008684830101525b8096505050505050509250925092565b600181811c90821680620002e557607f821691505b602082108114156200030757634e487b7160e01b600052602260045260246000fd5b50919050565b60805161287d6200033e6000396000818161037d0152818161051901528181610cf50152611533015261287d6000f3fe608060405234801561001057600080fd5b50600436106100df5760003560e01c80634fcead571161008c5780636ca1d0ed116100665780636ca1d0ed146101da578063704b6c02146101ed578063f851a44014610200578063fc4c03b41461022057600080fd5b80634fcead57146101aa57806355f804b3146101bf5780636c0360eb146101d257600080fd5b80632d5444af116100bd5780632d5444af146101495780633bfc54461461015c57806340e2dfcf1461016f57600080fd5b80630b1ca49a146100e45780630b7465e4146100f957806321f8a7211461010c575b600080fd5b6100f76100f2366004611f91565b610233565b005b6100f7610107366004611ff3565b6103dc565b61011f61011a366004612035565b610586565b60405173ffffffffffffffffffffffffffffffffffffffff90911681526020015b60405180910390f35b6100f7610157366004611f91565b6106e1565b6100f761016a3660046120a4565b61081e565b61019561017d366004611f91565b60036020526000908152604090205463ffffffff1681565b60405163ffffffff9091168152602001610140565b6101b2610d6f565b6040516101409190612177565b6100f76101cd36600461228c565b610da9565b6101b2610f2c565b6100f76101e836600461230c565b6110a3565b6100f76101fb366004611f91565b611296565b60005461011f9073ffffffffffffffffffffffffffffffffffffffff1681565b6100f761022e366004612368565b611390565b60025473ffffffffffffffffffffffffffffffffffffffff166102b7576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601360248201527f464143544f52595f4e4f545f414c4c4f5745440000000000000000000000000060448201526064015b60405180910390fd5b60005473ffffffffffffffffffffffffffffffffffffffff163314610338576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600b60248201527f4e4f545f414c4c4f57454400000000000000000000000000000000000000000060448201526064016102ae565b6040517f17e796ea00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff82811660048301527f000000000000000000000000000000000000000000000000000000000000000016906317e796ea90602401600060405180830381600087803b1580156103c157600080fd5b505af11580156103d5573d6000803e3d6000fd5b5050505050565b60025473ffffffffffffffffffffffffffffffffffffffff1661045b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601360248201527f464143544f52595f4e4f545f414c4c4f5745440000000000000000000000000060448201526064016102ae565b60005473ffffffffffffffffffffffffffffffffffffffff1633146104dc576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600b60248201527f4e4f545f414c4c4f57454400000000000000000000000000000000000000000060448201526064016102ae565b6040517f8efb75c300000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001690638efb75c390610550908590859060040161252e565b600060405180830381600087803b15801561056a57600080fd5b505af115801561057e573d6000803e3d6000fd5b505050505050565b60025460009073ffffffffffffffffffffffffffffffffffffffff1615610609576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601460248201527f4f4e4c595f464143544f52595f414c4c4f57454400000000000000000000000060448201526064016102ae565b6106d930833360405160200161064e92919091825260601b7fffffffffffffffffffffffffffffffffffffffff00000000000000000000000016602082015260340190565b60405160208183030381529060405280519060200120306040517f3d602d80600a3d3981f3363d3d373d3d3d363d730000000000000000000000008152606093841b60148201527f5af43d82803e903d91602b57fd5bf3ff000000000000000000000000000000006028820152921b6038830152604c8201526037808220606c830152605591012090565b90505b919050565b600180546106ee9061254a565b159050610757576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601b60248201527f414c52454144595f494e495449414c495345445f464143544f5259000000000060448201526064016102ae565b60025473ffffffffffffffffffffffffffffffffffffffff16156107d7576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601960248201527f414c52454144595f494e495449414c495345445f434c4f4e450000000000000060448201526064016102ae565b600280547fffffffffffffffffffffffff00000000000000000000000000000000000000001673ffffffffffffffffffffffffffffffffffffffff92909216919091179055565b60025473ffffffffffffffffffffffffffffffffffffffff1661089d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601360248201527f464143544f52595f4e4f545f414c4c4f5745440000000000000000000000000060448201526064016102ae565b73ffffffffffffffffffffffffffffffffffffffff871660009081526003602052604090205463ffffffff9081169084168114610936576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600d60248201527f494e56414c49445f4e4f4e43450000000000000000000000000000000000000060448201526064016102ae565b6109418460016125cd565b73ffffffffffffffffffffffffffffffffffffffff8916600090815260036020526040902080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000001663ffffffff9283161790556060908516610aa6576040517f19457468657265756d205369676e6564204d6573736167653a0a31313100000060208201527f496e7669746520506c6179657220307830303030303030303030303030303030603d8201527f30303030303030303030303030303030303030303030303020546f20416c6c69605d8201527f616e636520307830303030303030303030303030303030303030303030303030607d8201527f3030303030303030303030303030300000000000000000000000000000000000609d82015260ac016040516020818303038152906040529050610a958160548b73ffffffffffffffffffffffffffffffffffffffff166115a3565b610aa181608b306115a3565b610be1565b6040517f19457468657265756d205369676e6564204d6573736167653a0a31333100000060208201527f496e7669746520506c6179657220307830303030303030303030303030303030603d8201527f30303030303030303030303030303030303030303030303020546f20416c6c69605d8201527f616e636520307830303030303030303030303030303030303030303030303030607d8201527f30303030303030303030303030303020286e6f6e63653a202020202020202020609d8201527f203029000000000000000000000000000000000000000000000000000000000060bd82015260c0016040516020818303038152906040529050610bc38160548b73ffffffffffffffffffffffffffffffffffffffff166115a3565b610bcf81608b306115a3565b610be181609e8763ffffffff16611682565b6000818051906020012090506000610c3186868080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250869392505061175c9050565b60005490915073ffffffffffffffffffffffffffffffffffffffff808316911614610cb8576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f494e56414c49445f494e564954455f5349474e4154555245000000000000000060448201526064016102ae565b6040517f6da0663000000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001690636da0663090610d30908e908e908e908e906004016125f5565b600060405180830381600087803b158015610d4a57600080fd5b505af1158015610d5e573d6000803e3d6000fd5b505050505050505050505050505050565b6060610d79610f2c565b610d84306014611782565b604051602001610d9592919061263b565b604051602081830303815290604052905090565b60025473ffffffffffffffffffffffffffffffffffffffff1615610e29576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601460248201527f4f4e4c595f464143544f52595f414c4c4f57454400000000000000000000000060448201526064016102ae565b60005473ffffffffffffffffffffffffffffffffffffffff163314610eaa576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600b60248201527f4e4f545f414c4c4f57454400000000000000000000000000000000000000000060448201526064016102ae565b6000815111610f15576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600e60248201527f4e454544535f424153455f55524900000000000000000000000000000000000060448201526064016102ae565b8051610f28906001906020840190611ed6565b5050565b60025460609073ffffffffffffffffffffffffffffffffffffffff16610fdc5760018054610f599061254a565b80601f0160208091040260200160405190810160405280929190818152602001828054610f859061254a565b8015610fd25780601f10610fa757610100808354040283529160200191610fd2565b820191906000526020600020905b815481529060010190602001808311610fb557829003601f168201915b5050505050905090565b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16636c0360eb6040518163ffffffff1660e01b815260040160006040518083038186803b15801561104457600080fd5b505afa158015611058573d6000803e3d6000fd5b505050506040513d6000823e601f3d9081017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016820160405261109e9190810190612661565b905090565b60025473ffffffffffffffffffffffffffffffffffffffff1615611123576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601460248201527f4f4e4c595f464143544f52595f414c4c4f57454400000000000000000000000060448201526064016102ae565b600061118530833360405160200161116a92919091825260601b7fffffffffffffffffffffffffffffffffffffffff00000000000000000000000016602082015260340190565b604051602081830303815290604052805190602001206119cc565b6040517f2d5444af00000000000000000000000000000000000000000000000000000000815230600482015290915073ffffffffffffffffffffffffffffffffffffffff821690632d5444af90602401600060405180830381600087803b1580156111ef57600080fd5b505af1158015611203573d6000803e3d6000fd5b50506040517ffc4c03b400000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff8416925063fc4c03b4915061125d908890889088906004016126d8565b600060405180830381600087803b15801561127757600080fd5b505af115801561128b573d6000803e3d6000fd5b505050505050505050565b60005473ffffffffffffffffffffffffffffffffffffffff163314611317576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600b60248201527f4e4f545f414c4c4f57454400000000000000000000000000000000000000000060448201526064016102ae565b600080547fffffffffffffffffffffffff00000000000000000000000000000000000000001673ffffffffffffffffffffffffffffffffffffffff83169081179091556040519081527f8fe72c3e0020beb3234e76ae6676fa576fbfcae600af1c4fea44784cf0db329c9060200160405180910390a150565b60025473ffffffffffffffffffffffffffffffffffffffff1661140f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601360248201527f464143544f52595f4e4f545f414c4c4f5745440000000000000000000000000060448201526064016102ae565b60005473ffffffffffffffffffffffffffffffffffffffff1680158061144a57503373ffffffffffffffffffffffffffffffffffffffff8216145b6114b0576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600b60248201527f4e4f545f414c4c4f57454400000000000000000000000000000000000000000060448201526064016102ae565b600080547fffffffffffffffffffffffff00000000000000000000000000000000000000001673ffffffffffffffffffffffffffffffffffffffff8616179055811561159d576040517f8efb75c300000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001690638efb75c39061156a908690869060040161252e565b600060405180830381600087803b15801561158457600080fd5b505af1158015611598573d6000803e3d6000fd5b505050505b50505050565b801561167d576040805180820190915260108082527f303132333435363738396162636465660000000000000000000000000000000060208301526115e89083612737565b815181106115f8576115f861274b565b01602001517fff0000000000000000000000000000000000000000000000000000000000000016838361162a8161277a565b94508151811061163c5761163c61274b565b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053506116766010826127af565b90506115a3565b505050565b801561167d5760408051808201909152600a8082527f303132333435363738390000000000000000000000000000000000000000000060208301526116c79083612737565b815181106116d7576116d761274b565b01602001517fff000000000000000000000000000000000000000000000000000000000000001683836117098161277a565b94508151811061171b5761171b61274b565b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350611755600a826127af565b9050611682565b600080600061176b8585611aaa565b9150915061177881611b1a565b5090505b92915050565b606060006117918360026127c3565b61179c906002612800565b67ffffffffffffffff8111156117b4576117b46121c8565b6040519080825280601f01601f1916602001820160405280156117de576020820181803683370190505b5090507f3000000000000000000000000000000000000000000000000000000000000000816000815181106118155761181561274b565b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053507f7800000000000000000000000000000000000000000000000000000000000000816001815181106118785761187861274b565b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535060006118b48460026127c3565b6118bf906001612800565b90505b600181111561195c577f303132333435363738396162636465660000000000000000000000000000000085600f16601081106119005761190061274b565b1a60f81b8282815181106119165761191661274b565b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535060049490941c936119558161277a565b90506118c2565b5083156119c5576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820181905260248201527f537472696e67733a20686578206c656e67746820696e73756666696369656e7460448201526064016102ae565b9392505050565b60006040517f3d602d80600a3d3981f3363d3d373d3d3d363d7300000000000000000000000081528360601b60148201527f5af43d82803e903d91602b57fd5bf300000000000000000000000000000000006028820152826037826000f591505073ffffffffffffffffffffffffffffffffffffffff811661177c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601760248201527f455243313136373a2063726561746532206661696c656400000000000000000060448201526064016102ae565b600080825160411415611ae15760208301516040840151606085015160001a611ad587828585611d76565b94509450505050611b13565b825160401415611b0b5760208301516040840151611b00868383611e8e565b935093505050611b13565b506000905060025b9250929050565b6000816004811115611b2e57611b2e612818565b1415611b375750565b6001816004811115611b4b57611b4b612818565b1415611bb3576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f45434453413a20696e76616c6964207369676e6174757265000000000000000060448201526064016102ae565b6002816004811115611bc757611bc7612818565b1415611c2f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f45434453413a20696e76616c6964207369676e6174757265206c656e6774680060448201526064016102ae565b6003816004811115611c4357611c43612818565b1415611cd1576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602260248201527f45434453413a20696e76616c6964207369676e6174757265202773272076616c60448201527f756500000000000000000000000000000000000000000000000000000000000060648201526084016102ae565b6004816004811115611ce557611ce5612818565b1415611d73576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602260248201527f45434453413a20696e76616c6964207369676e6174757265202776272076616c60448201527f756500000000000000000000000000000000000000000000000000000000000060648201526084016102ae565b50565b6000807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0831115611dad5750600090506003611e85565b8460ff16601b14158015611dc557508460ff16601c14155b15611dd65750600090506004611e85565b6040805160008082526020820180845289905260ff881692820192909252606081018690526080810185905260019060a0016020604051602081039080840390855afa158015611e2a573d6000803e3d6000fd5b50506040517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0015191505073ffffffffffffffffffffffffffffffffffffffff8116611e7e57600060019250925050611e85565b9150600090505b94509492505050565b6000807f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff831660ff84901c601b01611ec887828885611d76565b935093505050935093915050565b828054611ee29061254a565b90600052602060002090601f016020900481019282611f045760008555611f4a565b82601f10611f1d57805160ff1916838001178555611f4a565b82800160010185558215611f4a579182015b82811115611f4a578251825591602001919060010190611f2f565b50611f56929150611f5a565b5090565b5b80821115611f565760008155600101611f5b565b73ffffffffffffffffffffffffffffffffffffffff81168114611d7357600080fd5b600060208284031215611fa357600080fd5b81356119c581611f6f565b60008083601f840112611fc057600080fd5b50813567ffffffffffffffff811115611fd857600080fd5b6020830191508360208260051b8501011115611b1357600080fd5b6000806020838503121561200657600080fd5b823567ffffffffffffffff81111561201d57600080fd5b61202985828601611fae565b90969095509350505050565b60006020828403121561204757600080fd5b5035919050565b803563ffffffff811681146106dc57600080fd5b60008083601f84011261207457600080fd5b50813567ffffffffffffffff81111561208c57600080fd5b602083019150836020828501011115611b1357600080fd5b600080600080600080600060a0888a0312156120bf57600080fd5b87356120ca81611f6f565b96506120d86020890161204e565b9550604088013567ffffffffffffffff808211156120f557600080fd5b6121018b838c01612062565b909750955085915061211560608b0161204e565b945060808a013591508082111561212b57600080fd5b506121388a828b01612062565b989b979a50959850939692959293505050565b60005b8381101561216657818101518382015260200161214e565b8381111561159d5750506000910152565b602081526000825180602084015261219681604085016020870161214b565b601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0169190910160400192915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b604051601f82017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016810167ffffffffffffffff8111828210171561223e5761223e6121c8565b604052919050565b600067ffffffffffffffff821115612260576122606121c8565b50601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe01660200190565b60006020828403121561229e57600080fd5b813567ffffffffffffffff8111156122b557600080fd5b8201601f810184136122c657600080fd5b80356122d96122d482612246565b6121f7565b8181528560208385010111156122ee57600080fd5b81602084016020830137600091810160200191909152949350505050565b6000806000806060858703121561232257600080fd5b843561232d81611f6f565b9350602085013567ffffffffffffffff81111561234957600080fd5b61235587828801611fae565b9598909750949560400135949350505050565b60008060006040848603121561237d57600080fd5b833561238881611f6f565b9250602084013567ffffffffffffffff8111156123a457600080fd5b6123b086828701611fae565b9497909650939450505050565b8183528181602085013750600060208284010152600060207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f840116840101905092915050565b818352600060208085019450848460051b86018460005b8781101561252157838303895281357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa188360301811261245c57600080fd5b87016060813561246b81611f6f565b73ffffffffffffffffffffffffffffffffffffffff16855263ffffffff61249383890161204e565b16878601526040808301357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe18436030181126124ce57600080fd5b8301803567ffffffffffffffff8111156124e757600080fd5b8036038513156124f657600080fd5b838389015261250a848901828c85016123bd565b9d8a019d975050509387019350505060010161241d565b5090979650505050505050565b602081526000612542602083018486612406565b949350505050565b600181811c9082168061255e57607f821691505b60208210811415612598577f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b50919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600063ffffffff8083168185168083038211156125ec576125ec61259e565b01949350505050565b73ffffffffffffffffffffffffffffffffffffffff8516815263ffffffff841660208201526060604082015260006126316060830184866123bd565b9695505050505050565b6000835161264d81846020880161214b565b8351908301906125ec81836020880161214b565b60006020828403121561267357600080fd5b815167ffffffffffffffff81111561268a57600080fd5b8201601f8101841361269b57600080fd5b80516126a96122d482612246565b8181528560208385010111156126be57600080fd5b6126cf82602083016020860161214b565b95945050505050565b73ffffffffffffffffffffffffffffffffffffffff841681526040602082015260006126cf604083018486612406565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b60008261274657612746612708565b500690565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6000816127895761278961259e565b507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0190565b6000826127be576127be612708565b500490565b6000817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff04831182151516156127fb576127fb61259e565b500290565b600082198211156128135761281361259e565b500190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fdfea26469706673582212201ee036a8051a28e956279a83511e60ae637e45931063a1a3f0c8f307f4d6512d64736f6c63430008090033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100df5760003560e01c80634fcead571161008c5780636ca1d0ed116100665780636ca1d0ed146101da578063704b6c02146101ed578063f851a44014610200578063fc4c03b41461022057600080fd5b80634fcead57146101aa57806355f804b3146101bf5780636c0360eb146101d257600080fd5b80632d5444af116100bd5780632d5444af146101495780633bfc54461461015c57806340e2dfcf1461016f57600080fd5b80630b1ca49a146100e45780630b7465e4146100f957806321f8a7211461010c575b600080fd5b6100f76100f2366004611f91565b610233565b005b6100f7610107366004611ff3565b6103dc565b61011f61011a366004612035565b610586565b60405173ffffffffffffffffffffffffffffffffffffffff90911681526020015b60405180910390f35b6100f7610157366004611f91565b6106e1565b6100f761016a3660046120a4565b61081e565b61019561017d366004611f91565b60036020526000908152604090205463ffffffff1681565b60405163ffffffff9091168152602001610140565b6101b2610d6f565b6040516101409190612177565b6100f76101cd36600461228c565b610da9565b6101b2610f2c565b6100f76101e836600461230c565b6110a3565b6100f76101fb366004611f91565b611296565b60005461011f9073ffffffffffffffffffffffffffffffffffffffff1681565b6100f761022e366004612368565b611390565b60025473ffffffffffffffffffffffffffffffffffffffff166102b7576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601360248201527f464143544f52595f4e4f545f414c4c4f5745440000000000000000000000000060448201526064015b60405180910390fd5b60005473ffffffffffffffffffffffffffffffffffffffff163314610338576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600b60248201527f4e4f545f414c4c4f57454400000000000000000000000000000000000000000060448201526064016102ae565b6040517f17e796ea00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff82811660048301527f000000000000000000000000000000000000000000000000000000000000000016906317e796ea90602401600060405180830381600087803b1580156103c157600080fd5b505af11580156103d5573d6000803e3d6000fd5b5050505050565b60025473ffffffffffffffffffffffffffffffffffffffff1661045b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601360248201527f464143544f52595f4e4f545f414c4c4f5745440000000000000000000000000060448201526064016102ae565b60005473ffffffffffffffffffffffffffffffffffffffff1633146104dc576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600b60248201527f4e4f545f414c4c4f57454400000000000000000000000000000000000000000060448201526064016102ae565b6040517f8efb75c300000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001690638efb75c390610550908590859060040161252e565b600060405180830381600087803b15801561056a57600080fd5b505af115801561057e573d6000803e3d6000fd5b505050505050565b60025460009073ffffffffffffffffffffffffffffffffffffffff1615610609576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601460248201527f4f4e4c595f464143544f52595f414c4c4f57454400000000000000000000000060448201526064016102ae565b6106d930833360405160200161064e92919091825260601b7fffffffffffffffffffffffffffffffffffffffff00000000000000000000000016602082015260340190565b60405160208183030381529060405280519060200120306040517f3d602d80600a3d3981f3363d3d373d3d3d363d730000000000000000000000008152606093841b60148201527f5af43d82803e903d91602b57fd5bf3ff000000000000000000000000000000006028820152921b6038830152604c8201526037808220606c830152605591012090565b90505b919050565b600180546106ee9061254a565b159050610757576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601b60248201527f414c52454144595f494e495449414c495345445f464143544f5259000000000060448201526064016102ae565b60025473ffffffffffffffffffffffffffffffffffffffff16156107d7576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601960248201527f414c52454144595f494e495449414c495345445f434c4f4e450000000000000060448201526064016102ae565b600280547fffffffffffffffffffffffff00000000000000000000000000000000000000001673ffffffffffffffffffffffffffffffffffffffff92909216919091179055565b60025473ffffffffffffffffffffffffffffffffffffffff1661089d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601360248201527f464143544f52595f4e4f545f414c4c4f5745440000000000000000000000000060448201526064016102ae565b73ffffffffffffffffffffffffffffffffffffffff871660009081526003602052604090205463ffffffff9081169084168114610936576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600d60248201527f494e56414c49445f4e4f4e43450000000000000000000000000000000000000060448201526064016102ae565b6109418460016125cd565b73ffffffffffffffffffffffffffffffffffffffff8916600090815260036020526040902080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000001663ffffffff9283161790556060908516610aa6576040517f19457468657265756d205369676e6564204d6573736167653a0a31313100000060208201527f496e7669746520506c6179657220307830303030303030303030303030303030603d8201527f30303030303030303030303030303030303030303030303020546f20416c6c69605d8201527f616e636520307830303030303030303030303030303030303030303030303030607d8201527f3030303030303030303030303030300000000000000000000000000000000000609d82015260ac016040516020818303038152906040529050610a958160548b73ffffffffffffffffffffffffffffffffffffffff166115a3565b610aa181608b306115a3565b610be1565b6040517f19457468657265756d205369676e6564204d6573736167653a0a31333100000060208201527f496e7669746520506c6179657220307830303030303030303030303030303030603d8201527f30303030303030303030303030303030303030303030303020546f20416c6c69605d8201527f616e636520307830303030303030303030303030303030303030303030303030607d8201527f30303030303030303030303030303020286e6f6e63653a202020202020202020609d8201527f203029000000000000000000000000000000000000000000000000000000000060bd82015260c0016040516020818303038152906040529050610bc38160548b73ffffffffffffffffffffffffffffffffffffffff166115a3565b610bcf81608b306115a3565b610be181609e8763ffffffff16611682565b6000818051906020012090506000610c3186868080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250869392505061175c9050565b60005490915073ffffffffffffffffffffffffffffffffffffffff808316911614610cb8576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f494e56414c49445f494e564954455f5349474e4154555245000000000000000060448201526064016102ae565b6040517f6da0663000000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001690636da0663090610d30908e908e908e908e906004016125f5565b600060405180830381600087803b158015610d4a57600080fd5b505af1158015610d5e573d6000803e3d6000fd5b505050505050505050505050505050565b6060610d79610f2c565b610d84306014611782565b604051602001610d9592919061263b565b604051602081830303815290604052905090565b60025473ffffffffffffffffffffffffffffffffffffffff1615610e29576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601460248201527f4f4e4c595f464143544f52595f414c4c4f57454400000000000000000000000060448201526064016102ae565b60005473ffffffffffffffffffffffffffffffffffffffff163314610eaa576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600b60248201527f4e4f545f414c4c4f57454400000000000000000000000000000000000000000060448201526064016102ae565b6000815111610f15576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600e60248201527f4e454544535f424153455f55524900000000000000000000000000000000000060448201526064016102ae565b8051610f28906001906020840190611ed6565b5050565b60025460609073ffffffffffffffffffffffffffffffffffffffff16610fdc5760018054610f599061254a565b80601f0160208091040260200160405190810160405280929190818152602001828054610f859061254a565b8015610fd25780601f10610fa757610100808354040283529160200191610fd2565b820191906000526020600020905b815481529060010190602001808311610fb557829003601f168201915b5050505050905090565b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16636c0360eb6040518163ffffffff1660e01b815260040160006040518083038186803b15801561104457600080fd5b505afa158015611058573d6000803e3d6000fd5b505050506040513d6000823e601f3d9081017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016820160405261109e9190810190612661565b905090565b60025473ffffffffffffffffffffffffffffffffffffffff1615611123576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601460248201527f4f4e4c595f464143544f52595f414c4c4f57454400000000000000000000000060448201526064016102ae565b600061118530833360405160200161116a92919091825260601b7fffffffffffffffffffffffffffffffffffffffff00000000000000000000000016602082015260340190565b604051602081830303815290604052805190602001206119cc565b6040517f2d5444af00000000000000000000000000000000000000000000000000000000815230600482015290915073ffffffffffffffffffffffffffffffffffffffff821690632d5444af90602401600060405180830381600087803b1580156111ef57600080fd5b505af1158015611203573d6000803e3d6000fd5b50506040517ffc4c03b400000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff8416925063fc4c03b4915061125d908890889088906004016126d8565b600060405180830381600087803b15801561127757600080fd5b505af115801561128b573d6000803e3d6000fd5b505050505050505050565b60005473ffffffffffffffffffffffffffffffffffffffff163314611317576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600b60248201527f4e4f545f414c4c4f57454400000000000000000000000000000000000000000060448201526064016102ae565b600080547fffffffffffffffffffffffff00000000000000000000000000000000000000001673ffffffffffffffffffffffffffffffffffffffff83169081179091556040519081527f8fe72c3e0020beb3234e76ae6676fa576fbfcae600af1c4fea44784cf0db329c9060200160405180910390a150565b60025473ffffffffffffffffffffffffffffffffffffffff1661140f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601360248201527f464143544f52595f4e4f545f414c4c4f5745440000000000000000000000000060448201526064016102ae565b60005473ffffffffffffffffffffffffffffffffffffffff1680158061144a57503373ffffffffffffffffffffffffffffffffffffffff8216145b6114b0576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600b60248201527f4e4f545f414c4c4f57454400000000000000000000000000000000000000000060448201526064016102ae565b600080547fffffffffffffffffffffffff00000000000000000000000000000000000000001673ffffffffffffffffffffffffffffffffffffffff8616179055811561159d576040517f8efb75c300000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001690638efb75c39061156a908690869060040161252e565b600060405180830381600087803b15801561158457600080fd5b505af1158015611598573d6000803e3d6000fd5b505050505b50505050565b801561167d576040805180820190915260108082527f303132333435363738396162636465660000000000000000000000000000000060208301526115e89083612737565b815181106115f8576115f861274b565b01602001517fff0000000000000000000000000000000000000000000000000000000000000016838361162a8161277a565b94508151811061163c5761163c61274b565b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053506116766010826127af565b90506115a3565b505050565b801561167d5760408051808201909152600a8082527f303132333435363738390000000000000000000000000000000000000000000060208301526116c79083612737565b815181106116d7576116d761274b565b01602001517fff000000000000000000000000000000000000000000000000000000000000001683836117098161277a565b94508151811061171b5761171b61274b565b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350611755600a826127af565b9050611682565b600080600061176b8585611aaa565b9150915061177881611b1a565b5090505b92915050565b606060006117918360026127c3565b61179c906002612800565b67ffffffffffffffff8111156117b4576117b46121c8565b6040519080825280601f01601f1916602001820160405280156117de576020820181803683370190505b5090507f3000000000000000000000000000000000000000000000000000000000000000816000815181106118155761181561274b565b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053507f7800000000000000000000000000000000000000000000000000000000000000816001815181106118785761187861274b565b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535060006118b48460026127c3565b6118bf906001612800565b90505b600181111561195c577f303132333435363738396162636465660000000000000000000000000000000085600f16601081106119005761190061274b565b1a60f81b8282815181106119165761191661274b565b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535060049490941c936119558161277a565b90506118c2565b5083156119c5576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820181905260248201527f537472696e67733a20686578206c656e67746820696e73756666696369656e7460448201526064016102ae565b9392505050565b60006040517f3d602d80600a3d3981f3363d3d373d3d3d363d7300000000000000000000000081528360601b60148201527f5af43d82803e903d91602b57fd5bf300000000000000000000000000000000006028820152826037826000f591505073ffffffffffffffffffffffffffffffffffffffff811661177c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601760248201527f455243313136373a2063726561746532206661696c656400000000000000000060448201526064016102ae565b600080825160411415611ae15760208301516040840151606085015160001a611ad587828585611d76565b94509450505050611b13565b825160401415611b0b5760208301516040840151611b00868383611e8e565b935093505050611b13565b506000905060025b9250929050565b6000816004811115611b2e57611b2e612818565b1415611b375750565b6001816004811115611b4b57611b4b612818565b1415611bb3576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f45434453413a20696e76616c6964207369676e6174757265000000000000000060448201526064016102ae565b6002816004811115611bc757611bc7612818565b1415611c2f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f45434453413a20696e76616c6964207369676e6174757265206c656e6774680060448201526064016102ae565b6003816004811115611c4357611c43612818565b1415611cd1576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602260248201527f45434453413a20696e76616c6964207369676e6174757265202773272076616c60448201527f756500000000000000000000000000000000000000000000000000000000000060648201526084016102ae565b6004816004811115611ce557611ce5612818565b1415611d73576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602260248201527f45434453413a20696e76616c6964207369676e6174757265202776272076616c60448201527f756500000000000000000000000000000000000000000000000000000000000060648201526084016102ae565b50565b6000807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0831115611dad5750600090506003611e85565b8460ff16601b14158015611dc557508460ff16601c14155b15611dd65750600090506004611e85565b6040805160008082526020820180845289905260ff881692820192909252606081018690526080810185905260019060a0016020604051602081039080840390855afa158015611e2a573d6000803e3d6000fd5b50506040517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0015191505073ffffffffffffffffffffffffffffffffffffffff8116611e7e57600060019250925050611e85565b9150600090505b94509492505050565b6000807f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff831660ff84901c601b01611ec887828885611d76565b935093505050935093915050565b828054611ee29061254a565b90600052602060002090601f016020900481019282611f045760008555611f4a565b82601f10611f1d57805160ff1916838001178555611f4a565b82800160010185558215611f4a579182015b82811115611f4a578251825591602001919060010190611f2f565b50611f56929150611f5a565b5090565b5b80821115611f565760008155600101611f5b565b73ffffffffffffffffffffffffffffffffffffffff81168114611d7357600080fd5b600060208284031215611fa357600080fd5b81356119c581611f6f565b60008083601f840112611fc057600080fd5b50813567ffffffffffffffff811115611fd857600080fd5b6020830191508360208260051b8501011115611b1357600080fd5b6000806020838503121561200657600080fd5b823567ffffffffffffffff81111561201d57600080fd5b61202985828601611fae565b90969095509350505050565b60006020828403121561204757600080fd5b5035919050565b803563ffffffff811681146106dc57600080fd5b60008083601f84011261207457600080fd5b50813567ffffffffffffffff81111561208c57600080fd5b602083019150836020828501011115611b1357600080fd5b600080600080600080600060a0888a0312156120bf57600080fd5b87356120ca81611f6f565b96506120d86020890161204e565b9550604088013567ffffffffffffffff808211156120f557600080fd5b6121018b838c01612062565b909750955085915061211560608b0161204e565b945060808a013591508082111561212b57600080fd5b506121388a828b01612062565b989b979a50959850939692959293505050565b60005b8381101561216657818101518382015260200161214e565b8381111561159d5750506000910152565b602081526000825180602084015261219681604085016020870161214b565b601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0169190910160400192915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b604051601f82017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016810167ffffffffffffffff8111828210171561223e5761223e6121c8565b604052919050565b600067ffffffffffffffff821115612260576122606121c8565b50601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe01660200190565b60006020828403121561229e57600080fd5b813567ffffffffffffffff8111156122b557600080fd5b8201601f810184136122c657600080fd5b80356122d96122d482612246565b6121f7565b8181528560208385010111156122ee57600080fd5b81602084016020830137600091810160200191909152949350505050565b6000806000806060858703121561232257600080fd5b843561232d81611f6f565b9350602085013567ffffffffffffffff81111561234957600080fd5b61235587828801611fae565b9598909750949560400135949350505050565b60008060006040848603121561237d57600080fd5b833561238881611f6f565b9250602084013567ffffffffffffffff8111156123a457600080fd5b6123b086828701611fae565b9497909650939450505050565b8183528181602085013750600060208284010152600060207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f840116840101905092915050565b818352600060208085019450848460051b86018460005b8781101561252157838303895281357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa188360301811261245c57600080fd5b87016060813561246b81611f6f565b73ffffffffffffffffffffffffffffffffffffffff16855263ffffffff61249383890161204e565b16878601526040808301357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe18436030181126124ce57600080fd5b8301803567ffffffffffffffff8111156124e757600080fd5b8036038513156124f657600080fd5b838389015261250a848901828c85016123bd565b9d8a019d975050509387019350505060010161241d565b5090979650505050505050565b602081526000612542602083018486612406565b949350505050565b600181811c9082168061255e57607f821691505b60208210811415612598577f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b50919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600063ffffffff8083168185168083038211156125ec576125ec61259e565b01949350505050565b73ffffffffffffffffffffffffffffffffffffffff8516815263ffffffff841660208201526060604082015260006126316060830184866123bd565b9695505050505050565b6000835161264d81846020880161214b565b8351908301906125ec81836020880161214b565b60006020828403121561267357600080fd5b815167ffffffffffffffff81111561268a57600080fd5b8201601f8101841361269b57600080fd5b80516126a96122d482612246565b8181528560208385010111156126be57600080fd5b6126cf82602083016020860161214b565b95945050505050565b73ffffffffffffffffffffffffffffffffffffffff841681526040602082015260006126cf604083018486612406565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b60008261274657612746612708565b500690565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6000816127895761278961259e565b507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0190565b6000826127be576127be612708565b500490565b6000817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff04831182151516156127fb576127fb61259e565b500290565b600082198211156128135761281361259e565b500190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fdfea26469706673582212201ee036a8051a28e956279a83511e60ae637e45931063a1a3f0c8f307f4d6512d64736f6c63430008090033",
  "linkReferences": {},
  "deployedLinkReferences": {},
  "immutableReferences": {
    "2853": [
      {
        "length": 32,
        "start": 893
      },
      {
        "length": 32,
        "start": 1305
      },
      {
        "length": 32,
        "start": 3317
      },
      {
        "length": 32,
        "start": 5427
      }
    ]
  },
  "inputSourceName": "project/src/alliances/BasicAlliance.sol",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "evm": {
    "gasEstimates": {
      "creation": {
        "codeDepositCost": "2073000",
        "executionCost": "infinite",
        "totalCost": "infinite"
      },
      "external": {
        "addMembers((address,uint32,bytes)[])": "infinite",
        "admin()": "2368",
        "baseURI()": "infinite",
        "claimInvite(address,uint32,bytes,uint32,bytes)": "infinite",
        "frontendURI()": "infinite",
        "getAddress(bytes32)": "2904",
        "initInstance(address)": "28924",
        "instantiate(address,(address,uint32,bytes)[],bytes32)": "infinite",
        "memberNonces(address)": "2583",
        "removeMember(address)": "infinite",
        "setAdmin(address)": "27751",
        "setAdminAndAddMembers(address,(address,uint32,bytes)[])": "infinite",
        "setBaseURI(string)": "infinite"
      },
      "internal": {
        "_writeUintAsDecimal(bytes memory,uint256,uint256)": "infinite",
        "_writeUintAsHex(bytes memory,uint256,uint256)": "infinite"
      }
    }
  },
  "metadata": "{\"compiler\":{\"version\":\"0.8.9+commit.e5eed63a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"contract AllianceRegistry\",\"name\":\"allianceRegistry\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"initialAdmin\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"initialBaseURI\",\"type\":\"string\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"newAdmin\",\"type\":\"address\"}],\"name\":\"AdminSet\",\"type\":\"event\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"addr\",\"type\":\"address\"},{\"internalType\":\"uint32\",\"name\":\"nonce\",\"type\":\"uint32\"},{\"internalType\":\"bytes\",\"name\":\"signature\",\"type\":\"bytes\"}],\"internalType\":\"struct AllianceRegistry.PlayerSubmission[]\",\"name\":\"playerSubmissions\",\"type\":\"tuple[]\"}],\"name\":\"addMembers\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"admin\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"baseURI\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"player\",\"type\":\"address\"},{\"internalType\":\"uint32\",\"name\":\"nonce\",\"type\":\"uint32\"},{\"internalType\":\"bytes\",\"name\":\"signature\",\"type\":\"bytes\"},{\"internalType\":\"uint32\",\"name\":\"inviteNonce\",\"type\":\"uint32\"},{\"internalType\":\"bytes\",\"name\":\"inviteSignature\",\"type\":\"bytes\"}],\"name\":\"claimInvite\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"frontendURI\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"salt\",\"type\":\"bytes32\"}],\"name\":\"getAddress\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract BasicAlliance\",\"name\":\"factory\",\"type\":\"address\"}],\"name\":\"initInstance\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"initialAdmin\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"addr\",\"type\":\"address\"},{\"internalType\":\"uint32\",\"name\":\"nonce\",\"type\":\"uint32\"},{\"internalType\":\"bytes\",\"name\":\"signature\",\"type\":\"bytes\"}],\"internalType\":\"struct AllianceRegistry.PlayerSubmission[]\",\"name\":\"playerSubmissions\",\"type\":\"tuple[]\"},{\"internalType\":\"bytes32\",\"name\":\"salt\",\"type\":\"bytes32\"}],\"name\":\"instantiate\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"memberNonces\",\"outputs\":[{\"internalType\":\"uint32\",\"name\":\"\",\"type\":\"uint32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"player\",\"type\":\"address\"}],\"name\":\"removeMember\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newAdmin\",\"type\":\"address\"}],\"name\":\"setAdmin\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newAdmin\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"addr\",\"type\":\"address\"},{\"internalType\":\"uint32\",\"name\":\"nonce\",\"type\":\"uint32\"},{\"internalType\":\"bytes\",\"name\":\"signature\",\"type\":\"bytes\"}],\"internalType\":\"struct AllianceRegistry.PlayerSubmission[]\",\"name\":\"playerSubmissions\",\"type\":\"tuple[]\"}],\"name\":\"setAdminAndAddMembers\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"newBaseURI\",\"type\":\"string\"}],\"name\":\"setBaseURI\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"project/src/alliances/BasicAlliance.sol\":\"BasicAlliance\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":999999},\"remappings\":[\"project/:@openzeppelin/contracts/=npm/@openzeppelin/contracts@4.3.2/\",\"project/:@rocketh/proxy/=npm/@rocketh/proxy@0.18.2/\"]},\"sources\":{\"npm/@openzeppelin/contracts@4.3.2/proxy/Clones.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev https://eips.ethereum.org/EIPS/eip-1167[EIP 1167] is a standard for\\n * deploying minimal proxy contracts, also known as \\\"clones\\\".\\n *\\n * > To simply and cheaply clone contract functionality in an immutable way, this standard specifies\\n * > a minimal bytecode implementation that delegates all calls to a known, fixed address.\\n *\\n * The library includes functions to deploy a proxy using either `create` (traditional deployment) or `create2`\\n * (salted deterministic deployment). It also includes functions to predict the addresses of clones deployed using the\\n * deterministic method.\\n *\\n * _Available since v3.4._\\n */\\nlibrary Clones {\\n    /**\\n     * @dev Deploys and returns the address of a clone that mimics the behaviour of `implementation`.\\n     *\\n     * This function uses the create opcode, which should never revert.\\n     */\\n    function clone(address implementation) internal returns (address instance) {\\n        assembly {\\n            let ptr := mload(0x40)\\n            mstore(ptr, 0x3d602d80600a3d3981f3363d3d373d3d3d363d73000000000000000000000000)\\n            mstore(add(ptr, 0x14), shl(0x60, implementation))\\n            mstore(add(ptr, 0x28), 0x5af43d82803e903d91602b57fd5bf30000000000000000000000000000000000)\\n            instance := create(0, ptr, 0x37)\\n        }\\n        require(instance != address(0), \\\"ERC1167: create failed\\\");\\n    }\\n\\n    /**\\n     * @dev Deploys and returns the address of a clone that mimics the behaviour of `implementation`.\\n     *\\n     * This function uses the create2 opcode and a `salt` to deterministically deploy\\n     * the clone. Using the same `implementation` and `salt` multiple time will revert, since\\n     * the clones cannot be deployed twice at the same address.\\n     */\\n    function cloneDeterministic(address implementation, bytes32 salt) internal returns (address instance) {\\n        assembly {\\n            let ptr := mload(0x40)\\n            mstore(ptr, 0x3d602d80600a3d3981f3363d3d373d3d3d363d73000000000000000000000000)\\n            mstore(add(ptr, 0x14), shl(0x60, implementation))\\n            mstore(add(ptr, 0x28), 0x5af43d82803e903d91602b57fd5bf30000000000000000000000000000000000)\\n            instance := create2(0, ptr, 0x37, salt)\\n        }\\n        require(instance != address(0), \\\"ERC1167: create2 failed\\\");\\n    }\\n\\n    /**\\n     * @dev Computes the address of a clone deployed using {Clones-cloneDeterministic}.\\n     */\\n    function predictDeterministicAddress(\\n        address implementation,\\n        bytes32 salt,\\n        address deployer\\n    ) internal pure returns (address predicted) {\\n        assembly {\\n            let ptr := mload(0x40)\\n            mstore(ptr, 0x3d602d80600a3d3981f3363d3d373d3d3d363d73000000000000000000000000)\\n            mstore(add(ptr, 0x14), shl(0x60, implementation))\\n            mstore(add(ptr, 0x28), 0x5af43d82803e903d91602b57fd5bf3ff00000000000000000000000000000000)\\n            mstore(add(ptr, 0x38), shl(0x60, deployer))\\n            mstore(add(ptr, 0x4c), salt)\\n            mstore(add(ptr, 0x6c), keccak256(ptr, 0x37))\\n            predicted := keccak256(add(ptr, 0x37), 0x55)\\n        }\\n    }\\n\\n    /**\\n     * @dev Computes the address of a clone deployed using {Clones-cloneDeterministic}.\\n     */\\n    function predictDeterministicAddress(address implementation, bytes32 salt)\\n        internal\\n        view\\n        returns (address predicted)\\n    {\\n        return predictDeterministicAddress(implementation, salt, address(this));\\n    }\\n}\\n\",\"keccak256\":\"0xa3bbab77849522b73d8c6cd3d2ac54bef7580e4354484f35f4cabf55d3d2b3f9\",\"license\":\"MIT\"},\"npm/@openzeppelin/contracts@4.3.2/utils/Address.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Collection of functions related to the address type\\n */\\nlibrary Address {\\n    /**\\n     * @dev Returns true if `account` is a contract.\\n     *\\n     * [IMPORTANT]\\n     * ====\\n     * It is unsafe to assume that an address for which this function returns\\n     * false is an externally-owned account (EOA) and not a contract.\\n     *\\n     * Among others, `isContract` will return false for the following\\n     * types of addresses:\\n     *\\n     *  - an externally-owned account\\n     *  - a contract in construction\\n     *  - an address where a contract will be created\\n     *  - an address where a contract lived, but was destroyed\\n     * ====\\n     */\\n    function isContract(address account) internal view returns (bool) {\\n        // This method relies on extcodesize, which returns 0 for contracts in\\n        // construction, since the code is only stored at the end of the\\n        // constructor execution.\\n\\n        uint256 size;\\n        assembly {\\n            size := extcodesize(account)\\n        }\\n        return size > 0;\\n    }\\n\\n    /**\\n     * @dev Replacement for Solidity's `transfer`: sends `amount` wei to\\n     * `recipient`, forwarding all available gas and reverting on errors.\\n     *\\n     * https://eips.ethereum.org/EIPS/eip-1884[EIP1884] increases the gas cost\\n     * of certain opcodes, possibly making contracts go over the 2300 gas limit\\n     * imposed by `transfer`, making them unable to receive funds via\\n     * `transfer`. {sendValue} removes this limitation.\\n     *\\n     * https://diligence.consensys.net/posts/2019/09/stop-using-soliditys-transfer-now/[Learn more].\\n     *\\n     * IMPORTANT: because control is transferred to `recipient`, care must be\\n     * taken to not create reentrancy vulnerabilities. Consider using\\n     * {ReentrancyGuard} or the\\n     * https://solidity.readthedocs.io/en/v0.5.11/security-considerations.html#use-the-checks-effects-interactions-pattern[checks-effects-interactions pattern].\\n     */\\n    function sendValue(address payable recipient, uint256 amount) internal {\\n        require(address(this).balance >= amount, \\\"Address: insufficient balance\\\");\\n\\n        (bool success, ) = recipient.call{value: amount}(\\\"\\\");\\n        require(success, \\\"Address: unable to send value, recipient may have reverted\\\");\\n    }\\n\\n    /**\\n     * @dev Performs a Solidity function call using a low level `call`. A\\n     * plain `call` is an unsafe replacement for a function call: use this\\n     * function instead.\\n     *\\n     * If `target` reverts with a revert reason, it is bubbled up by this\\n     * function (like regular Solidity function calls).\\n     *\\n     * Returns the raw returned data. To convert to the expected return value,\\n     * use https://solidity.readthedocs.io/en/latest/units-and-global-variables.html?highlight=abi.decode#abi-encoding-and-decoding-functions[`abi.decode`].\\n     *\\n     * Requirements:\\n     *\\n     * - `target` must be a contract.\\n     * - calling `target` with `data` must not revert.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function functionCall(address target, bytes memory data) internal returns (bytes memory) {\\n        return functionCall(target, data, \\\"Address: low-level call failed\\\");\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`], but with\\n     * `errorMessage` as a fallback revert reason when `target` reverts.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function functionCall(\\n        address target,\\n        bytes memory data,\\n        string memory errorMessage\\n    ) internal returns (bytes memory) {\\n        return functionCallWithValue(target, data, 0, errorMessage);\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],\\n     * but also transferring `value` wei to `target`.\\n     *\\n     * Requirements:\\n     *\\n     * - the calling contract must have an ETH balance of at least `value`.\\n     * - the called Solidity function must be `payable`.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function functionCallWithValue(\\n        address target,\\n        bytes memory data,\\n        uint256 value\\n    ) internal returns (bytes memory) {\\n        return functionCallWithValue(target, data, value, \\\"Address: low-level call with value failed\\\");\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCallWithValue-address-bytes-uint256-}[`functionCallWithValue`], but\\n     * with `errorMessage` as a fallback revert reason when `target` reverts.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function functionCallWithValue(\\n        address target,\\n        bytes memory data,\\n        uint256 value,\\n        string memory errorMessage\\n    ) internal returns (bytes memory) {\\n        require(address(this).balance >= value, \\\"Address: insufficient balance for call\\\");\\n        require(isContract(target), \\\"Address: call to non-contract\\\");\\n\\n        (bool success, bytes memory returndata) = target.call{value: value}(data);\\n        return verifyCallResult(success, returndata, errorMessage);\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],\\n     * but performing a static call.\\n     *\\n     * _Available since v3.3._\\n     */\\n    function functionStaticCall(address target, bytes memory data) internal view returns (bytes memory) {\\n        return functionStaticCall(target, data, \\\"Address: low-level static call failed\\\");\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-string-}[`functionCall`],\\n     * but performing a static call.\\n     *\\n     * _Available since v3.3._\\n     */\\n    function functionStaticCall(\\n        address target,\\n        bytes memory data,\\n        string memory errorMessage\\n    ) internal view returns (bytes memory) {\\n        require(isContract(target), \\\"Address: static call to non-contract\\\");\\n\\n        (bool success, bytes memory returndata) = target.staticcall(data);\\n        return verifyCallResult(success, returndata, errorMessage);\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],\\n     * but performing a delegate call.\\n     *\\n     * _Available since v3.4._\\n     */\\n    function functionDelegateCall(address target, bytes memory data) internal returns (bytes memory) {\\n        return functionDelegateCall(target, data, \\\"Address: low-level delegate call failed\\\");\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-string-}[`functionCall`],\\n     * but performing a delegate call.\\n     *\\n     * _Available since v3.4._\\n     */\\n    function functionDelegateCall(\\n        address target,\\n        bytes memory data,\\n        string memory errorMessage\\n    ) internal returns (bytes memory) {\\n        require(isContract(target), \\\"Address: delegate call to non-contract\\\");\\n\\n        (bool success, bytes memory returndata) = target.delegatecall(data);\\n        return verifyCallResult(success, returndata, errorMessage);\\n    }\\n\\n    /**\\n     * @dev Tool to verifies that a low level call was successful, and revert if it wasn't, either by bubbling the\\n     * revert reason using the provided one.\\n     *\\n     * _Available since v4.3._\\n     */\\n    function verifyCallResult(\\n        bool success,\\n        bytes memory returndata,\\n        string memory errorMessage\\n    ) internal pure returns (bytes memory) {\\n        if (success) {\\n            return returndata;\\n        } else {\\n            // Look for revert reason and bubble it up if present\\n            if (returndata.length > 0) {\\n                // The easiest way to bubble the revert reason is using memory via assembly\\n\\n                assembly {\\n                    let returndata_size := mload(returndata)\\n                    revert(add(32, returndata), returndata_size)\\n                }\\n            } else {\\n                revert(errorMessage);\\n            }\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0x3336baae5cf23e94274d75336e2d412193be508504aee185e61dc7d58cd05c8a\",\"license\":\"MIT\"},\"npm/@openzeppelin/contracts@4.3.2/utils/Strings.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev String operations.\\n */\\nlibrary Strings {\\n    bytes16 private constant _HEX_SYMBOLS = \\\"0123456789abcdef\\\";\\n\\n    /**\\n     * @dev Converts a `uint256` to its ASCII `string` decimal representation.\\n     */\\n    function toString(uint256 value) internal pure returns (string memory) {\\n        // Inspired by OraclizeAPI's implementation - MIT licence\\n        // https://github.com/oraclize/ethereum-api/blob/b42146b063c7d6ee1358846c198246239e9360e8/oraclizeAPI_0.4.25.sol\\n\\n        if (value == 0) {\\n            return \\\"0\\\";\\n        }\\n        uint256 temp = value;\\n        uint256 digits;\\n        while (temp != 0) {\\n            digits++;\\n            temp /= 10;\\n        }\\n        bytes memory buffer = new bytes(digits);\\n        while (value != 0) {\\n            digits -= 1;\\n            buffer[digits] = bytes1(uint8(48 + uint256(value % 10)));\\n            value /= 10;\\n        }\\n        return string(buffer);\\n    }\\n\\n    /**\\n     * @dev Converts a `uint256` to its ASCII `string` hexadecimal representation.\\n     */\\n    function toHexString(uint256 value) internal pure returns (string memory) {\\n        if (value == 0) {\\n            return \\\"0x00\\\";\\n        }\\n        uint256 temp = value;\\n        uint256 length = 0;\\n        while (temp != 0) {\\n            length++;\\n            temp >>= 8;\\n        }\\n        return toHexString(value, length);\\n    }\\n\\n    /**\\n     * @dev Converts a `uint256` to its ASCII `string` hexadecimal representation with fixed length.\\n     */\\n    function toHexString(uint256 value, uint256 length) internal pure returns (string memory) {\\n        bytes memory buffer = new bytes(2 * length + 2);\\n        buffer[0] = \\\"0\\\";\\n        buffer[1] = \\\"x\\\";\\n        for (uint256 i = 2 * length + 1; i > 1; --i) {\\n            buffer[i] = _HEX_SYMBOLS[value & 0xf];\\n            value >>= 4;\\n        }\\n        require(value == 0, \\\"Strings: hex length insufficient\\\");\\n        return string(buffer);\\n    }\\n}\\n\",\"keccak256\":\"0x391d3ba97ab6856a16b225d6ee29617ad15ff00db70f3b4df1ab5ea33aa47c9d\",\"license\":\"MIT\"},\"npm/@openzeppelin/contracts@4.3.2/utils/cryptography/ECDSA.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Elliptic Curve Digital Signature Algorithm (ECDSA) operations.\\n *\\n * These functions can be used to verify that a message was signed by the holder\\n * of the private keys of a given address.\\n */\\nlibrary ECDSA {\\n    enum RecoverError {\\n        NoError,\\n        InvalidSignature,\\n        InvalidSignatureLength,\\n        InvalidSignatureS,\\n        InvalidSignatureV\\n    }\\n\\n    function _throwError(RecoverError error) private pure {\\n        if (error == RecoverError.NoError) {\\n            return; // no error: do nothing\\n        } else if (error == RecoverError.InvalidSignature) {\\n            revert(\\\"ECDSA: invalid signature\\\");\\n        } else if (error == RecoverError.InvalidSignatureLength) {\\n            revert(\\\"ECDSA: invalid signature length\\\");\\n        } else if (error == RecoverError.InvalidSignatureS) {\\n            revert(\\\"ECDSA: invalid signature 's' value\\\");\\n        } else if (error == RecoverError.InvalidSignatureV) {\\n            revert(\\\"ECDSA: invalid signature 'v' value\\\");\\n        }\\n    }\\n\\n    /**\\n     * @dev Returns the address that signed a hashed message (`hash`) with\\n     * `signature` or error string. This address can then be used for verification purposes.\\n     *\\n     * The `ecrecover` EVM opcode allows for malleable (non-unique) signatures:\\n     * this function rejects them by requiring the `s` value to be in the lower\\n     * half order, and the `v` value to be either 27 or 28.\\n     *\\n     * IMPORTANT: `hash` _must_ be the result of a hash operation for the\\n     * verification to be secure: it is possible to craft signatures that\\n     * recover to arbitrary addresses for non-hashed data. A safe way to ensure\\n     * this is by receiving a hash of the original message (which may otherwise\\n     * be too long), and then calling {toEthSignedMessageHash} on it.\\n     *\\n     * Documentation for signature generation:\\n     * - with https://web3js.readthedocs.io/en/v1.3.4/web3-eth-accounts.html#sign[Web3.js]\\n     * - with https://docs.ethers.io/v5/api/signer/#Signer-signMessage[ethers]\\n     *\\n     * _Available since v4.3._\\n     */\\n    function tryRecover(bytes32 hash, bytes memory signature) internal pure returns (address, RecoverError) {\\n        // Check the signature length\\n        // - case 65: r,s,v signature (standard)\\n        // - case 64: r,vs signature (cf https://eips.ethereum.org/EIPS/eip-2098) _Available since v4.1._\\n        if (signature.length == 65) {\\n            bytes32 r;\\n            bytes32 s;\\n            uint8 v;\\n            // ecrecover takes the signature parameters, and the only way to get them\\n            // currently is to use assembly.\\n            assembly {\\n                r := mload(add(signature, 0x20))\\n                s := mload(add(signature, 0x40))\\n                v := byte(0, mload(add(signature, 0x60)))\\n            }\\n            return tryRecover(hash, v, r, s);\\n        } else if (signature.length == 64) {\\n            bytes32 r;\\n            bytes32 vs;\\n            // ecrecover takes the signature parameters, and the only way to get them\\n            // currently is to use assembly.\\n            assembly {\\n                r := mload(add(signature, 0x20))\\n                vs := mload(add(signature, 0x40))\\n            }\\n            return tryRecover(hash, r, vs);\\n        } else {\\n            return (address(0), RecoverError.InvalidSignatureLength);\\n        }\\n    }\\n\\n    /**\\n     * @dev Returns the address that signed a hashed message (`hash`) with\\n     * `signature`. This address can then be used for verification purposes.\\n     *\\n     * The `ecrecover` EVM opcode allows for malleable (non-unique) signatures:\\n     * this function rejects them by requiring the `s` value to be in the lower\\n     * half order, and the `v` value to be either 27 or 28.\\n     *\\n     * IMPORTANT: `hash` _must_ be the result of a hash operation for the\\n     * verification to be secure: it is possible to craft signatures that\\n     * recover to arbitrary addresses for non-hashed data. A safe way to ensure\\n     * this is by receiving a hash of the original message (which may otherwise\\n     * be too long), and then calling {toEthSignedMessageHash} on it.\\n     */\\n    function recover(bytes32 hash, bytes memory signature) internal pure returns (address) {\\n        (address recovered, RecoverError error) = tryRecover(hash, signature);\\n        _throwError(error);\\n        return recovered;\\n    }\\n\\n    /**\\n     * @dev Overload of {ECDSA-tryRecover} that receives the `r` and `vs` short-signature fields separately.\\n     *\\n     * See https://eips.ethereum.org/EIPS/eip-2098[EIP-2098 short signatures]\\n     *\\n     * _Available since v4.3._\\n     */\\n    function tryRecover(\\n        bytes32 hash,\\n        bytes32 r,\\n        bytes32 vs\\n    ) internal pure returns (address, RecoverError) {\\n        bytes32 s;\\n        uint8 v;\\n        assembly {\\n            s := and(vs, 0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff)\\n            v := add(shr(255, vs), 27)\\n        }\\n        return tryRecover(hash, v, r, s);\\n    }\\n\\n    /**\\n     * @dev Overload of {ECDSA-recover} that receives the `r and `vs` short-signature fields separately.\\n     *\\n     * _Available since v4.2._\\n     */\\n    function recover(\\n        bytes32 hash,\\n        bytes32 r,\\n        bytes32 vs\\n    ) internal pure returns (address) {\\n        (address recovered, RecoverError error) = tryRecover(hash, r, vs);\\n        _throwError(error);\\n        return recovered;\\n    }\\n\\n    /**\\n     * @dev Overload of {ECDSA-tryRecover} that receives the `v`,\\n     * `r` and `s` signature fields separately.\\n     *\\n     * _Available since v4.3._\\n     */\\n    function tryRecover(\\n        bytes32 hash,\\n        uint8 v,\\n        bytes32 r,\\n        bytes32 s\\n    ) internal pure returns (address, RecoverError) {\\n        // EIP-2 still allows signature malleability for ecrecover(). Remove this possibility and make the signature\\n        // unique. Appendix F in the Ethereum Yellow paper (https://ethereum.github.io/yellowpaper/paper.pdf), defines\\n        // the valid range for s in (301): 0 < s < secp256k1n \\u00f7 2 + 1, and for v in (302): v \\u2208 {27, 28}. Most\\n        // signatures from current libraries generate a unique signature with an s-value in the lower half order.\\n        //\\n        // If your library generates malleable signatures, such as s-values in the upper range, calculate a new s-value\\n        // with 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141 - s1 and flip v from 27 to 28 or\\n        // vice versa. If your library also generates signatures with 0/1 for v instead 27/28, add 27 to v to accept\\n        // these malleable signatures as well.\\n        if (uint256(s) > 0x7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0) {\\n            return (address(0), RecoverError.InvalidSignatureS);\\n        }\\n        if (v != 27 && v != 28) {\\n            return (address(0), RecoverError.InvalidSignatureV);\\n        }\\n\\n        // If the signature is valid (and not malleable), return the signer address\\n        address signer = ecrecover(hash, v, r, s);\\n        if (signer == address(0)) {\\n            return (address(0), RecoverError.InvalidSignature);\\n        }\\n\\n        return (signer, RecoverError.NoError);\\n    }\\n\\n    /**\\n     * @dev Overload of {ECDSA-recover} that receives the `v`,\\n     * `r` and `s` signature fields separately.\\n     */\\n    function recover(\\n        bytes32 hash,\\n        uint8 v,\\n        bytes32 r,\\n        bytes32 s\\n    ) internal pure returns (address) {\\n        (address recovered, RecoverError error) = tryRecover(hash, v, r, s);\\n        _throwError(error);\\n        return recovered;\\n    }\\n\\n    /**\\n     * @dev Returns an Ethereum Signed Message, created from a `hash`. This\\n     * produces hash corresponding to the one signed with the\\n     * https://eth.wiki/json-rpc/API#eth_sign[`eth_sign`]\\n     * JSON-RPC method as part of EIP-191.\\n     *\\n     * See {recover}.\\n     */\\n    function toEthSignedMessageHash(bytes32 hash) internal pure returns (bytes32) {\\n        // 32 is the length in bytes of hash,\\n        // enforced by the type signature above\\n        return keccak256(abi.encodePacked(\\\"\\\\x19Ethereum Signed Message:\\\\n32\\\", hash));\\n    }\\n\\n    /**\\n     * @dev Returns an Ethereum Signed Typed Data, created from a\\n     * `domainSeparator` and a `structHash`. This produces hash corresponding\\n     * to the one signed with the\\n     * https://eips.ethereum.org/EIPS/eip-712[`eth_signTypedData`]\\n     * JSON-RPC method as part of EIP-712.\\n     *\\n     * See {recover}.\\n     */\\n    function toTypedDataHash(bytes32 domainSeparator, bytes32 structHash) internal pure returns (bytes32) {\\n        return keccak256(abi.encodePacked(\\\"\\\\x19\\\\x01\\\", domainSeparator, structHash));\\n    }\\n}\\n\",\"keccak256\":\"0xbc991a1cf357ce19480831a40792c814238a3b5458134703682abd8aa39719fb\",\"license\":\"MIT\"},\"npm/@rocketh/proxy@0.18.2/solc_0_8/ERC1967/Proxied.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\nabstract contract Proxied {\\n    /// @notice to be used by initialisation / postUpgrade function so that only the proxy's admin can execute them\\n    /// It also allows these functions to be called inside a contructor\\n    /// even if the contract is meant to be used without proxy\\n    modifier proxied() {\\n        address proxyAdminAddress = _proxyAdmin();\\n        // With hardhat-deploy proxies\\n        // the proxyAdminAddress is zero only for the implementation contract\\n        // if the implementation contract want to be used as a standalone/immutable contract\\n        // it simply has to execute the `proxied` function\\n        // This ensure the proxyAdminAddress is never zero post deployment\\n        // And allow you to keep the same code for both proxied contract and immutable contract\\n        if (proxyAdminAddress == address(0)) {\\n            // ensure can not be called twice when used outside of proxy : no admin\\n            // solhint-disable-next-line security/no-inline-assembly\\n            assembly {\\n                sstore(\\n                    0xb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d6103,\\n                    0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF\\n                )\\n            }\\n        } else {\\n            require(msg.sender == proxyAdminAddress);\\n        }\\n        _;\\n    }\\n\\n    modifier onlyProxyAdmin() {\\n        require(msg.sender == _proxyAdmin(), \\\"NOT_AUTHORIZED\\\");\\n        _;\\n    }\\n\\n    function _proxyAdmin() internal view returns (address ownerAddress) {\\n        // solhint-disable-next-line security/no-inline-assembly\\n        assembly {\\n            ownerAddress := sload(0xb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d6103)\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0xaaceeafeeaf0d200ca3942d8bf14c1c4f787a77f79cc87c08bb668e65acdee29\",\"license\":\"MIT\"},\"project/src/alliances/AllianceRegistry.sol\":{\"content\":\"// SPDX-License-Identifier: AGPL-3.0\\n\\npragma solidity 0.8.9;\\n\\nimport \\\"@rocketh/proxy/solc_0_8/ERC1967/Proxied.sol\\\";\\nimport \\\"../interfaces/IAlliance.sol\\\";\\nimport \\\"@openzeppelin/contracts/utils/cryptography/ECDSA.sol\\\";\\nimport \\\"@openzeppelin/contracts/utils/Address.sol\\\";\\n\\n// import \\\"hardhat/console.sol\\\";\\n\\ncontract AllianceRegistry is Proxied {\\n    using ECDSA for bytes32;\\n\\n    uint8 internal constant MAX_NUM_ALLIANCES = 4;\\n\\n    mapping(address => mapping(IAlliance => uint256)) internal _allianceNonces;\\n    struct AllianceRow {\\n        IAlliance alliance;\\n        uint96 joinTime;\\n    }\\n    struct Alliances {\\n        AllianceRow alliance0;\\n        AllianceRow alliance1;\\n        AllianceRow alliance2;\\n        AllianceRow alliance3;\\n    }\\n    mapping(address => Alliances) internal _alliances;\\n\\n    event AllianceLink(\\n        IAlliance indexed alliance,\\n        address indexed player,\\n        bool joining\\n    );\\n\\n    function getAllianceDataAtSlot(\\n        address player,\\n        uint8 slot\\n    )\\n        external\\n        view\\n        returns (IAlliance alliance, uint96 joinTime, uint256 nonce)\\n    {\\n        Alliances storage alliances = _alliances[player];\\n        if (slot == 0) {\\n            alliance = alliances.alliance0.alliance;\\n            joinTime = alliances.alliance0.joinTime;\\n        } else if (slot == 1) {\\n            alliance = alliances.alliance1.alliance;\\n            joinTime = alliances.alliance1.joinTime;\\n        } else if (slot == 2) {\\n            alliance = alliances.alliance2.alliance;\\n            joinTime = alliances.alliance2.joinTime;\\n        } else if (slot == 3) {\\n            alliance = alliances.alliance3.alliance;\\n            joinTime = alliances.alliance3.joinTime;\\n        }\\n\\n        nonce = _allianceNonces[player][alliance];\\n    }\\n\\n    function getAllianceData(\\n        address player,\\n        IAlliance alliance\\n    ) public view returns (uint96 joinTime, uint256 nonce) {\\n        nonce = _allianceNonces[player][alliance];\\n\\n        Alliances storage alliances = _alliances[player];\\n        if (alliances.alliance0.alliance == alliance) {\\n            joinTime = alliances.alliance0.joinTime;\\n        } else if (alliances.alliance1.alliance == alliance) {\\n            joinTime = alliances.alliance1.joinTime;\\n        } else if (alliances.alliance2.alliance == alliance) {\\n            joinTime = alliances.alliance2.joinTime;\\n        } else if (alliances.alliance3.alliance == alliance) {\\n            joinTime = alliances.alliance3.joinTime;\\n        }\\n    }\\n\\n    function havePlayersAnAllianceInCommon(\\n        address player1,\\n        address player2,\\n        uint256 timestamp\\n    ) external view returns (IAlliance alliance, uint96 joinTime) {\\n        Alliances storage p1Alliances = _alliances[player1];\\n        Alliances storage p2Alliances = _alliances[player2];\\n\\n        AllianceRow[4] memory player1Alliances;\\n        AllianceRow[4] memory player2Alliances;\\n        uint256 num1 = 0;\\n        uint256 num2 = 0;\\n\\n        for (uint256 i = 0; i < 4; i++) {\\n            if (i == num1) {\\n                AllianceRow memory allianceRow;\\n                if (i == 0) {\\n                    allianceRow = p1Alliances.alliance0;\\n                } else if (i == 1) {\\n                    allianceRow = p1Alliances.alliance1;\\n                } else if (i == 2) {\\n                    allianceRow = p1Alliances.alliance2;\\n                } else if (i == 3) {\\n                    allianceRow = p1Alliances.alliance3;\\n                }\\n                if (address(allianceRow.alliance) == address(0)) {\\n                    // console.log(\\\"p1 exhausted\\\");\\n                    return (alliance, joinTime); // the alliance leave ensure that there is no gap // TODO\\n                }\\n                player1Alliances[num1++] = allianceRow;\\n            }\\n            for (uint256 j = 0; j < 4; j++) {\\n                if (j == num2) {\\n                    AllianceRow memory allianceRow;\\n                    if (j == 0) {\\n                        allianceRow = p2Alliances.alliance0;\\n                    } else if (j == 1) {\\n                        allianceRow = p2Alliances.alliance1;\\n                    } else if (j == 2) {\\n                        allianceRow = p2Alliances.alliance2;\\n                    } else if (j == 3) {\\n                        allianceRow = p2Alliances.alliance3;\\n                    }\\n                    if (address(allianceRow.alliance) == address(0)) {\\n                        // console.log(\\\"p2 exhausted\\\");\\n                        // return (alliance, joinTime); // the alliance leave ensure that there is no gap // TODO\\n                        break;\\n                    }\\n                    player2Alliances[num2++] = allianceRow;\\n                }\\n\\n                if (\\n                    player1Alliances[i].alliance == player2Alliances[j].alliance\\n                ) {\\n                    if (\\n                        player1Alliances[i].joinTime >=\\n                        player2Alliances[j].joinTime\\n                    ) {\\n                        if (player1Alliances[i].joinTime < timestamp) {\\n                            return (\\n                                player1Alliances[i].alliance,\\n                                player1Alliances[i].joinTime\\n                            );\\n                        } else {\\n                            // TODO check greater ?\\n                            alliance = player1Alliances[i].alliance;\\n                            joinTime = player1Alliances[i].joinTime;\\n                        }\\n                    } else {\\n                        if (player2Alliances[j].joinTime < timestamp) {\\n                            return (\\n                                player2Alliances[j].alliance,\\n                                player2Alliances[j].joinTime\\n                            );\\n                        } else {\\n                            // TODO check greater ?\\n                            alliance = player2Alliances[j].alliance;\\n                            joinTime = player2Alliances[j].joinTime;\\n                        }\\n                    }\\n                }\\n            }\\n        }\\n        // console.log(address(alliance));\\n        // console.log(joinTime);\\n    }\\n\\n    // -----------------------------------------------------------------------------------------------------\\n    // FROM PLAYER\\n    // -----------------------------------------------------------------------------------------------------\\n\\n    function joinAlliance(\\n        IAlliance alliance,\\n        bytes calldata data\\n    ) external returns (bool joined) {\\n        Alliances storage alliances = _alliances[msg.sender];\\n        uint256 slot = 0;\\n        if (address(alliances.alliance0.alliance) != address(0)) {\\n            slot++;\\n        }\\n        if (address(alliances.alliance1.alliance) != address(0)) {\\n            slot++;\\n        }\\n        if (address(alliances.alliance2.alliance) != address(0)) {\\n            slot++;\\n        }\\n        require(\\n            address(alliances.alliance3.alliance) == address(0),\\n            \\\"MAX_NUM_ALLIANCES_REACHED\\\"\\n        );\\n\\n        joined = alliance.requestToJoin(msg.sender, data);\\n        if (joined) {\\n            if (slot == 0) {\\n                alliances.alliance0.alliance = alliance;\\n                alliances.alliance0.joinTime = uint96(block.timestamp);\\n            } else if (slot == 1) {\\n                alliances.alliance1.alliance = alliance;\\n                alliances.alliance1.joinTime = uint96(block.timestamp);\\n            } else if (slot == 2) {\\n                alliances.alliance2.alliance = alliance;\\n                alliances.alliance2.joinTime = uint96(block.timestamp);\\n            } else if (slot == 3) {\\n                alliances.alliance3.alliance = alliance;\\n                alliances.alliance3.joinTime = uint96(block.timestamp);\\n            }\\n\\n            emit AllianceLink(alliance, msg.sender, true);\\n        }\\n    }\\n\\n    function leaveAlliance(IAlliance alliance) external {\\n        _leaveAlliance(msg.sender, alliance);\\n        try alliance.playerHasLeft(msg.sender) {} catch {}\\n        // TODO ensure callback not failed due to low gas (1/64 rule)\\n    }\\n\\n    // -----------------------------------------------------------------------------------------------------\\n    // FROM ALLIANCE\\n    // -----------------------------------------------------------------------------------------------------\\n\\n    function addPlayerToAlliance(\\n        address player,\\n        uint32 nonce,\\n        bytes calldata signature\\n    ) external {\\n        _addPlayerToAlliance(player, nonce, signature);\\n    }\\n\\n    struct PlayerSubmission {\\n        address addr;\\n        uint32 nonce;\\n        bytes signature;\\n    }\\n\\n    function addMultiplePlayersToAlliance(\\n        PlayerSubmission[] calldata playerSubmissions\\n    ) external {\\n        for (uint256 i = 0; i < playerSubmissions.length; i++) {\\n            _addPlayerToAlliance(\\n                playerSubmissions[i].addr,\\n                playerSubmissions[i].nonce,\\n                playerSubmissions[i].signature\\n            );\\n        }\\n    }\\n\\n    function ejectPlayerFromAlliance(address player) external {\\n        _leaveAlliance(player, IAlliance(msg.sender));\\n    }\\n\\n    // -----------------------------------------------------------------------------------------------------\\n    // INTERNAL\\n    // -----------------------------------------------------------------------------------------------------\\n\\n    function _addPlayerToAlliance(\\n        address player,\\n        uint32 nonce,\\n        bytes calldata signature\\n    ) internal {\\n        IAlliance alliance = IAlliance(msg.sender);\\n\\n        Alliances storage alliances = _alliances[player];\\n        uint256 slot = 0;\\n        if (address(alliances.alliance0.alliance) != address(0)) {\\n            require(alliances.alliance0.alliance != alliance, \\\"ALREADY_JOINED\\\");\\n            slot++;\\n        }\\n        if (address(alliances.alliance1.alliance) != address(0)) {\\n            require(alliances.alliance1.alliance != alliance, \\\"ALREADY_JOINED\\\");\\n            slot++;\\n        }\\n        if (address(alliances.alliance2.alliance) != address(0)) {\\n            require(alliances.alliance2.alliance != alliance, \\\"ALREADY_JOINED\\\");\\n            slot++;\\n        }\\n        require(alliances.alliance3.alliance != alliance, \\\"ALREADY_JOINED\\\");\\n        require(\\n            address(alliances.alliance3.alliance) == address(0),\\n            \\\"MAX_NUM_ALLIANCES_REACHED\\\"\\n        );\\n\\n        uint256 currentNonce = _allianceNonces[player][alliance];\\n        require(currentNonce == nonce, \\\"INVALID_NONCE\\\");\\n\\n        bytes memory message;\\n        if (nonce == 0) {\\n            message = abi.encodePacked(\\n                \\\"\\\\x19Ethereum Signed Message:\\\\n56\\\",\\n                \\\"Join Alliance 0x0000000000000000000000000000000000000000\\\"\\n            );\\n            _writeUintAsHex(message, 28 + 55, uint160(msg.sender));\\n        } else {\\n            message = abi.encodePacked(\\n                \\\"\\\\x19Ethereum Signed Message:\\\\n76\\\",\\n                \\\"Join Alliance 0x0000000000000000000000000000000000000000 (nonce:          0)\\\"\\n            );\\n            _writeUintAsHex(message, 28 + 55, uint160(msg.sender));\\n            _writeUintAsDecimal(message, 28 + 74, nonce);\\n        }\\n\\n        // console.log(string(message));\\n\\n        bytes32 digest = keccak256(message);\\n\\n        address signer = digest.recover(signature);\\n        require(player == signer, \\\"INVALID_SIGNATURE\\\");\\n\\n        if (slot == 0) {\\n            alliances.alliance0.alliance = alliance;\\n            alliances.alliance0.joinTime = uint96(block.timestamp);\\n        } else if (slot == 1) {\\n            alliances.alliance1.alliance = alliance;\\n            alliances.alliance1.joinTime = uint96(block.timestamp);\\n        } else if (slot == 2) {\\n            alliances.alliance2.alliance = alliance;\\n            alliances.alliance2.joinTime = uint96(block.timestamp);\\n        } else if (slot == 3) {\\n            alliances.alliance3.alliance = alliance;\\n            alliances.alliance3.joinTime = uint96(block.timestamp);\\n        }\\n        _allianceNonces[player][alliance] = nonce + 1;\\n\\n        emit AllianceLink(alliance, player, true);\\n\\n        _checkERC1155AndCallSafeTransfer(\\n            msg.sender,\\n            address(0),\\n            player,\\n            uint256(uint160(address(alliance))),\\n            1\\n        );\\n        emit TransferSingle(\\n            msg.sender,\\n            address(0),\\n            player,\\n            uint256(uint160(address(alliance))),\\n            1\\n        );\\n    }\\n\\n    bytes internal constant hexAlphabet = \\\"0123456789abcdef\\\";\\n    bytes internal constant decimalAlphabet = \\\"0123456789\\\";\\n\\n    function _writeUintAsHex(\\n        bytes memory data,\\n        uint256 endPos,\\n        uint256 num\\n    ) internal pure {\\n        while (num != 0) {\\n            data[endPos--] = bytes1(hexAlphabet[num % 16]);\\n            num /= 16;\\n        }\\n    }\\n\\n    function _writeUintAsDecimal(\\n        bytes memory data,\\n        uint256 endPos,\\n        uint256 num\\n    ) internal pure {\\n        while (num != 0) {\\n            data[endPos--] = bytes1(decimalAlphabet[num % 10]);\\n            num /= 10;\\n        }\\n    }\\n\\n    function _leaveAlliance(address player, IAlliance alliance) internal {\\n        Alliances storage alliances = _alliances[player];\\n\\n        IAlliance lastSlotAlliance;\\n        uint96 lastSlotJoinTime;\\n\\n        require(\\n            address(alliances.alliance0.alliance) != address(0),\\n            \\\"NOT_PART_OF_ANY_ALLIANCE\\\"\\n        );\\n\\n        if (address(alliances.alliance1.alliance) == address(0)) {\\n            lastSlotAlliance = alliances.alliance0.alliance;\\n            lastSlotJoinTime = alliances.alliance0.joinTime;\\n            alliances.alliance0.alliance = IAlliance(address(0));\\n            alliances.alliance0.joinTime = 0;\\n        } else {\\n            if (address(alliances.alliance2.alliance) == address(0)) {\\n                lastSlotAlliance = alliances.alliance1.alliance;\\n                lastSlotJoinTime = alliances.alliance1.joinTime;\\n                alliances.alliance1.alliance = IAlliance(address(0));\\n                alliances.alliance1.joinTime = 0;\\n            } else {\\n                if (address(alliances.alliance3.alliance) == address(0)) {\\n                    lastSlotAlliance = alliances.alliance2.alliance;\\n                    lastSlotJoinTime = alliances.alliance2.joinTime;\\n                    alliances.alliance2.alliance = IAlliance(address(0));\\n                    alliances.alliance2.joinTime = 0;\\n                } else {\\n                    lastSlotAlliance = alliances.alliance3.alliance;\\n                    lastSlotJoinTime = alliances.alliance3.joinTime;\\n                    alliances.alliance3.alliance = IAlliance(address(0));\\n                    alliances.alliance3.joinTime = 0;\\n                }\\n            }\\n        }\\n\\n        if (alliance != lastSlotAlliance) {\\n            if (alliances.alliance0.alliance == alliance) {\\n                alliances.alliance0.alliance = lastSlotAlliance;\\n                alliances.alliance0.joinTime = lastSlotJoinTime;\\n            } else if (alliances.alliance1.alliance == alliance) {\\n                alliances.alliance1.alliance = lastSlotAlliance;\\n                alliances.alliance1.joinTime = lastSlotJoinTime;\\n            } else if (alliances.alliance2.alliance == alliance) {\\n                alliances.alliance2.alliance = lastSlotAlliance;\\n                alliances.alliance2.joinTime = lastSlotJoinTime;\\n            } else {\\n                revert(\\\"NOT_PART_OF_THE_ALLIANCE\\\");\\n            }\\n        }\\n\\n        emit AllianceLink(alliance, player, false);\\n        emit TransferSingle(\\n            msg.sender,\\n            player,\\n            address(0),\\n            uint256(uint160(address(alliance))),\\n            1\\n        );\\n    }\\n\\n    function _msgSender() internal view returns (address) {\\n        return msg.sender; // TODO metatx\\n    }\\n\\n    // ---------------------------------------------------------------------\\n    // Support For ERC-1155\\n    // ---------------------------------------------------------------------\\n\\n    event TransferSingle(\\n        address indexed operator,\\n        address indexed from,\\n        address indexed to,\\n        uint256 id,\\n        uint256 value\\n    );\\n\\n    function balanceOf(\\n        address owner,\\n        uint256 id\\n    ) external view returns (uint256 balance) {\\n        require(id == uint160(id), \\\"INVALID_ID\\\");\\n        (uint96 joinTime, ) = getAllianceData(\\n            owner,\\n            IAlliance(address(uint160(id)))\\n        );\\n        if (joinTime > 0) {\\n            return 1;\\n        } else {\\n            return 0;\\n        }\\n    }\\n\\n    function balanceOfBatch(\\n        address[] calldata owners,\\n        uint256[] calldata ids\\n    ) external view returns (uint256[] memory balances) {\\n        balances = new uint256[](owners.length);\\n        for (uint256 i = 0; i < owners.length; i++) {\\n            require(ids[i] == uint160(ids[i]), \\\"INVALID_ID\\\");\\n            (uint96 joinTime, ) = getAllianceData(\\n                owners[i],\\n                IAlliance(address(uint160(ids[i])))\\n            );\\n            if (joinTime > 0) {\\n                balances[i] = 1;\\n            } else {\\n                balances[i] = 0;\\n            }\\n        }\\n    }\\n\\n    function isApprovedForAll(address, address) external pure returns (bool) {\\n        return false;\\n    }\\n\\n    function supportsInterface(\\n        bytes4 interfaceID\\n    ) external pure returns (bool) {\\n        return interfaceID == 0xd9b67a26 || interfaceID == 0x01ffc9a7;\\n    }\\n\\n    function _checkERC1155AndCallSafeTransfer(\\n        address operator,\\n        address from,\\n        address to,\\n        uint256 id,\\n        uint256 value\\n    ) internal returns (bool) {\\n        if (!Address.isContract(to)) {\\n            return true;\\n        }\\n\\n        return\\n            ERC1155TokenReceiver(to).onERC1155Received(\\n                operator,\\n                from,\\n                id,\\n                value,\\n                \\\"\\\"\\n            ) == 0xf23a6e61;\\n    }\\n}\\n\\ninterface ERC1155TokenReceiver {\\n    function onERC1155Received(\\n        address _operator,\\n        address _from,\\n        uint256 _id,\\n        uint256 _value,\\n        bytes calldata _data\\n    ) external returns (bytes4);\\n}\\n\",\"keccak256\":\"0xd411ad02158f1706333ca83f3fa516d7121a9115ad1a6ca52d994590813aea1e\",\"license\":\"AGPL-3.0\"},\"project/src/alliances/BasicAlliance.sol\":{\"content\":\"// SPDX-License-Identifier: AGPL-3.0\\npragma solidity 0.8.9;\\n\\nimport \\\"./AllianceRegistry.sol\\\";\\n// import \\\"../interfaces/IAlliance.sol\\\";\\nimport \\\"@openzeppelin/contracts/proxy/Clones.sol\\\";\\nimport \\\"@openzeppelin/contracts/utils/Strings.sol\\\";\\nimport \\\"@openzeppelin/contracts/utils/cryptography/ECDSA.sol\\\";\\n\\ncontract BasicAlliance {\\n    using ECDSA for bytes32;\\n\\n    event AdminSet(address newAdmin);\\n\\n    AllianceRegistry internal immutable _allianceRegistry;\\n    address public admin;\\n\\n    string internal _baseURI;\\n    BasicAlliance internal _factory;\\n\\n    mapping(address => uint32) public memberNonces;\\n\\n    // constructor(AllianceRegistry allianceRegistry, AllianceRegistry.PlayerSubmission[] memory playerSubmissions) {\\n    //     _allianceRegistry = allianceRegistry;\\n    //     _allianceRegistry.addMultiplePlayersToAlliance(playerSubmissions);\\n    // }\\n\\n    constructor(\\n        AllianceRegistry allianceRegistry,\\n        address initialAdmin,\\n        string memory initialBaseURI\\n    ) {\\n        _allianceRegistry = allianceRegistry;\\n        admin = initialAdmin;\\n        emit AdminSet(initialAdmin);\\n        require(bytes(initialBaseURI).length > 0, \\\"NEEDS_BASE_URI\\\");\\n        _baseURI = initialBaseURI;\\n    }\\n\\n    function baseURI() public view returns (string memory) {\\n        if (address(_factory) == address(0)) {\\n            return _baseURI;\\n        } else {\\n            return _factory.baseURI();\\n        }\\n    }\\n\\n    function setBaseURI(string memory newBaseURI) external onlyIfFactory {\\n        require(msg.sender == admin, \\\"NOT_ALLOWED\\\");\\n        require(bytes(newBaseURI).length > 0, \\\"NEEDS_BASE_URI\\\");\\n        _baseURI = newBaseURI;\\n    }\\n\\n    function setAdmin(address newAdmin) external {\\n        require(msg.sender == admin, \\\"NOT_ALLOWED\\\");\\n        admin = newAdmin;\\n        emit AdminSet(newAdmin);\\n    }\\n\\n    function initInstance(BasicAlliance factory) external {\\n        require(bytes(_baseURI).length == 0, \\\"ALREADY_INITIALISED_FACTORY\\\");\\n        require(address(_factory) == address(0), \\\"ALREADY_INITIALISED_CLONE\\\");\\n        _factory = factory;\\n    }\\n\\n    function frontendURI() external view returns (string memory) {\\n        return\\n            string(\\n                bytes.concat(\\n                    bytes(baseURI()),\\n                    bytes(\\n                        Strings.toHexString(uint256(uint160(address(this))), 20)\\n                    )\\n                )\\n            );\\n    }\\n\\n    function setAdminAndAddMembers(\\n        address newAdmin,\\n        AllianceRegistry.PlayerSubmission[] calldata playerSubmissions\\n    ) public onlyIfInstance {\\n        address currentAdmin = admin;\\n        require(\\n            currentAdmin == address(0) || msg.sender == currentAdmin,\\n            \\\"NOT_ALLOWED\\\"\\n        );\\n        admin = newAdmin;\\n        if (playerSubmissions.length > 0) {\\n            _allianceRegistry.addMultiplePlayersToAlliance(playerSubmissions);\\n        }\\n    }\\n\\n    function addMembers(\\n        AllianceRegistry.PlayerSubmission[] calldata playerSubmissions\\n    ) external onlyIfInstance {\\n        require(msg.sender == admin, \\\"NOT_ALLOWED\\\");\\n        _allianceRegistry.addMultiplePlayersToAlliance(playerSubmissions);\\n    }\\n\\n    function removeMember(address player) external onlyIfInstance {\\n        require(msg.sender == admin, \\\"NOT_ALLOWED\\\");\\n        _allianceRegistry.ejectPlayerFromAlliance(player);\\n    }\\n\\n    function claimInvite(\\n        address player,\\n        uint32 nonce,\\n        bytes calldata signature,\\n        uint32 inviteNonce,\\n        bytes calldata inviteSignature\\n    ) external onlyIfInstance {\\n        uint256 currentNonce = memberNonces[player];\\n        require(currentNonce == inviteNonce, \\\"INVALID_NONCE\\\");\\n        memberNonces[player] = inviteNonce + 1;\\n\\n        bytes memory message;\\n        if (inviteNonce == 0) {\\n            message = abi.encodePacked(\\n                \\\"\\\\x19Ethereum Signed Message:\\\\n111\\\",\\n                \\\"Invite Player 0x0000000000000000000000000000000000000000 To Alliance 0x0000000000000000000000000000000000000000\\\"\\n            );\\n            _writeUintAsHex(message, 29 + 55, uint160(player));\\n            _writeUintAsHex(message, 29 + 110, uint160(address(this)));\\n        } else {\\n            message = abi.encodePacked(\\n                \\\"\\\\x19Ethereum Signed Message:\\\\n131\\\",\\n                \\\"Invite Player 0x0000000000000000000000000000000000000000 To Alliance 0x0000000000000000000000000000000000000000 (nonce:          0)\\\"\\n            );\\n            _writeUintAsHex(message, 29 + 55, uint160(player));\\n            _writeUintAsHex(message, 29 + 110, uint160(address(this)));\\n            _writeUintAsDecimal(message, 29 + 129, inviteNonce);\\n        }\\n        bytes32 digest = keccak256(message);\\n\\n        address signer = digest.recover(inviteSignature);\\n        require(admin == signer, \\\"INVALID_INVITE_SIGNATURE\\\");\\n\\n        _allianceRegistry.addPlayerToAlliance(player, nonce, signature);\\n    }\\n\\n    function instantiate(\\n        address initialAdmin,\\n        AllianceRegistry.PlayerSubmission[] calldata playerSubmissions,\\n        bytes32 salt\\n    ) external onlyIfFactory {\\n        address newAlliance = Clones.cloneDeterministic(\\n            address(this),\\n            keccak256(abi.encodePacked(salt, msg.sender))\\n        );\\n        BasicAlliance(newAlliance).initInstance(this);\\n        BasicAlliance(newAlliance).setAdminAndAddMembers(\\n            initialAdmin,\\n            playerSubmissions\\n        );\\n    }\\n\\n    function getAddress(\\n        bytes32 salt\\n    ) external view onlyIfFactory returns (address) {\\n        return\\n            Clones.predictDeterministicAddress(\\n                address(this),\\n                keccak256(abi.encodePacked(salt, msg.sender)),\\n                address(this)\\n            );\\n    }\\n\\n    // function requestToJoin(address player, bytes calldata data) external view returns (bool) {\\n    //     if (player == _initialMember) {\\n    //         return true;\\n    //     } else {\\n    //         bytes32 digest = keccak256(abi.encodePacked(\\\"\\\\x19Ethereum Signed Message:\\\\n32\\\", \\\"Add \\\", ));\\n    //         address signer = digest.recover(signature);\\n    //         require(_outerspace.allianceJoinTime(signer, this), \\\"ONLY_ALLIANCE_MEMBER_CAN_INVITE\\\");\\n    //     }\\n    // }\\n\\n    // function playerHasLeft(address player) external {\\n\\n    // }\\n\\n    // TODO library\\n    bytes internal constant hexAlphabet = \\\"0123456789abcdef\\\";\\n    bytes internal constant decimalAlphabet = \\\"0123456789\\\";\\n\\n    function _writeUintAsHex(\\n        bytes memory data,\\n        uint256 endPos,\\n        uint256 num\\n    ) internal pure {\\n        while (num != 0) {\\n            data[endPos--] = bytes1(hexAlphabet[num % 16]);\\n            num /= 16;\\n        }\\n    }\\n\\n    function _writeUintAsDecimal(\\n        bytes memory data,\\n        uint256 endPos,\\n        uint256 num\\n    ) internal pure {\\n        while (num != 0) {\\n            data[endPos--] = bytes1(decimalAlphabet[num % 10]);\\n            num /= 10;\\n        }\\n    }\\n\\n    modifier onlyIfFactory() {\\n        require(address(_factory) == address(0), \\\"ONLY_FACTORY_ALLOWED\\\");\\n        _;\\n    }\\n\\n    modifier onlyIfInstance() {\\n        require(address(_factory) != address(0), \\\"FACTORY_NOT_ALLOWED\\\");\\n        _;\\n    }\\n}\\n\",\"keccak256\":\"0x42b59fbf10a9727eddc1a8cf8d9ed6d7a07a9b525f1ace5025b1498df4d1dd85\",\"license\":\"AGPL-3.0\"},\"project/src/interfaces/IAlliance.sol\":{\"content\":\"// SPDX-License-Identifier: AGPL-3.0\\n\\npragma solidity 0.8.9;\\n\\ninterface IAlliance {\\n    function requestToJoin(\\n        address player,\\n        bytes calldata data\\n    ) external returns (bool);\\n\\n    function playerHasLeft(address player) external;\\n}\\n\",\"keccak256\":\"0xa1aace8c912a6b3975a7ed398fec5101f69e0e2f4bc679797f28f8cc2583a142\",\"license\":\"AGPL-3.0\"}},\"version\":1}",
  "storageLayout": {
    "storage": [
      {
        "astId": 2855,
        "contract": "project/src/alliances/BasicAlliance.sol:BasicAlliance",
        "label": "admin",
        "offset": 0,
        "slot": "0",
        "type": "t_address"
      },
      {
        "astId": 2857,
        "contract": "project/src/alliances/BasicAlliance.sol:BasicAlliance",
        "label": "_baseURI",
        "offset": 0,
        "slot": "1",
        "type": "t_string_storage"
      },
      {
        "astId": 2860,
        "contract": "project/src/alliances/BasicAlliance.sol:BasicAlliance",
        "label": "_factory",
        "offset": 0,
        "slot": "2",
        "type": "t_contract(BasicAlliance)3475"
      },
      {
        "astId": 2864,
        "contract": "project/src/alliances/BasicAlliance.sol:BasicAlliance",
        "label": "memberNonces",
        "offset": 0,
        "slot": "3",
        "type": "t_mapping(t_address,t_uint32)"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_contract(BasicAlliance)3475": {
        "encoding": "inplace",
        "label": "contract BasicAlliance",
        "numberOfBytes": "20"
      },
      "t_mapping(t_address,t_uint32)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => uint32)",
        "numberOfBytes": "32",
        "value": "t_uint32"
      },
      "t_string_storage": {
        "encoding": "bytes",
        "label": "string",
        "numberOfBytes": "32"
      },
      "t_uint32": {
        "encoding": "inplace",
        "label": "uint32",
        "numberOfBytes": "4"
      }
    }
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "argsData": "0x000000000000000000000000201f2100b30d4129fda590ad664fc6800a05c140000000000000000000000000be19b59e8c588d68f475a407c7ba5fe813aeb7920000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000003768747470733a2f2f6d6f6e61642e636f6e71756573742e67616d652f62617369632d616c6c69616e6365732f616c6c69616e6365732f23000000000000000000",
  "transaction": {
    "nonce": "0x22",
    "hash": "0x1ff7d6ec789bfeda298cc11f9c30d6d1480cc31d6243321a1c49ac6955df0567",
    "origin": "0xbe19b59e8c588d68f475a407c7ba5fe813aeb792"
  },
  "receipt": {
    "blockHash": "0xaaceff932be84b1052f5e43951fd4f52e3985effd3c836bdc6c20c3963f62481",
    "blockNumber": "0x33f517f",
    "transactionIndex": "0x5"
  }
}